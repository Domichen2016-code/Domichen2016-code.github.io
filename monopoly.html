<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="Favicon.png">
    <title>Monopoly</title>

    <style>
        body{
            /* background-image: url('Monopoly_Board.jpg'); */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-attachment: fixed; 
        }
        #board{
            display: none;
        }
        #AllUserInfo{
            position: absolute;
            top: 10px;
            right: 10px;
            width: 300px;
            height: 600px;
            background-color: rgba(130, 27, 27, 0.3);
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
        #ActiveMessage{
            position: absolute;
            top: 10px;
            left: 10px;
            width: 300px;
            height: 300px;
            background-color: rgba(186, 37, 37, 0.8);
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-family: Arial, sans-serif;
            font-size: 16px;
        }
        #Roll{
            position: absolute;
            bottom: 50px;
            left: 100px;
            width: 100px;
            height: 50px;
            background-color: rgba(0, 128, 0, 0.8);
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-family: Arial, sans-serif;
            font-size: 20px;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
        }
        #Dice1
        {
            position: absolute;
            bottom: 120px;
            left: 70px;
            width: 100px;
            height: 100px;
        }
        #Dice2
        {
            position: absolute;
            bottom: 120px;
            left: 160px;
            width: 100px;
            height: 100px;
        }
        #CharacterSelection{
            position: absolute;
            top: 294px;
            left: 681px;
            width: 350px;
            height: 280px;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        #box0{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 105px;
            right: 448px;
            bottom: 0px;
            position : absolute;
        }
        #box1{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 550px;
            bottom: 0px;
            position : absolute;
            

        }
        #box2{
            background-color: rgba(173, 216, 230, 0.563);
            width: 71px;
            height: 105px;
            right: 618px;
            bottom: 0px;
            position : absolute;
        }
        #box3{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 685.5px;
            bottom: 0px;
            position : absolute;
        }
        #box4{
            background-color: rgba(173, 216, 230, 0.563);
            width: 66px;
            height: 105px;
            right: 753px;
            bottom: 0px;
            position : absolute;
        }
        #box5{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 818px;
            bottom: 0px;
            position : absolute;
        }
        #box6{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 885px;
            bottom: 0px;
            position : absolute;
        }
        #box7{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 951px;
            bottom: 0px;
            position : absolute;
        }
        #box8{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 1017px;
            bottom: 0px;
            position : absolute;
        }
        #box9{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 105px;
            right: 1084px;
            bottom: 0px;
            position : absolute;
        }
        #box10{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 105px;
            right: 1152px;
            bottom: 0px;
            position : absolute;
        }
        #box11{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 105px;
            position : absolute;
        }
        #box12{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 171px;
            position : absolute;
        }
        #box13{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 237px;
            position : absolute;
        }
        #box14{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 303px;
            position : absolute;
        }
        #box15{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 369px;
            position : absolute;
        }
        #box16{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 435px;
            position : absolute;
        }
        #box17{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 501px;
            position : absolute;
        }
        #box18{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 567px;
            position : absolute;
        }
        #box19{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 1152px;
            bottom: 633px;
            position : absolute;
        }
        #box20{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 115px;
            right: 1152px;
            bottom: 699px;
            position : absolute;
        }
        #box21{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 1084px;
            bottom: 699px;
            position : absolute;
        }
        #box22{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 1017px;
            bottom: 699px;
            position : absolute;
        }
        #box23{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 951px;
            bottom: 699px;
            position : absolute;
        }
        #box24{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 885px;
            bottom: 699px;
            position : absolute;
        }
        #box25{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 818px;
            bottom: 699px;
            position : absolute;
        }
        #box26{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 753px;
            bottom: 699px;
            position : absolute;
        }
        #box27{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 685.5px;
            bottom: 699px;
            position : absolute;
        }
        #box28{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 618px;
            bottom: 699px;
            position : absolute;
        }
        #box29{
            background-color: rgba(173, 216, 230, 0.563);
            width: 70px;
            height: 115px;
            right: 550px;
            bottom: 699px;
            position : absolute;
        }
        #box30{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 115px;
            right: 448px;
            bottom: 699px;
            position : absolute;
        }
        #box31{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom:633px;
            position : absolute;
        }
        #box32{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 567px;
            position : absolute;
        }
        #box33{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 501px;
            position : absolute;
        }
        #box34{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 435px;
            position : absolute;
        }
        #box35{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 369px;
            position : absolute;
        }
        #box36{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 303px;
            position : absolute;
        }
        #box37{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 237px;
            position : absolute;
        }
        #box38{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 171px;
            position : absolute;
        }
        #box39{
            background-color: rgba(173, 216, 230, 0.563);
            width: 105px;
            height: 70px;
            right: 448px;
            bottom: 105px;       
            position : absolute;
        }
        #car, #cat, #hat, #horse, #siren {
            display: none;
        }
        
       
    </style>
    <script>
        var whoIsChoosing = 1;
        var availableTokens = ['car', 'cat', 'hat', 'horse', 'siren'];
        var actionMessages = [
            "Roll the dice to start your journey!",
            "You landed on a property. Would you like to buy it?",
            "You rolled a double! Roll again.",
            "Go to Jail! Do not pass Go, do not collect $200.",
            "Chance Card: Advance to Go (Collect $200).",
            "Community Chest: Bank error in your favor. Collect $200.",
            "You landed on Free Parking. Take a break!",
            "Pay $200 for landing on Income Tax.",
            "You can build houses or hotels now.",
            "Mortgage a property to raise funds.",
            "Unmortgage a property to regain full ownership.",
            "You landed on Luxury Tax. Pay $100.",
            "You passed Go! Collect $200.",
            "Game Over! Thanks for playing Monopoly."
        ];
        let userInput = "";
        while(userInput != "2" && userInput != "3" && userInput != "4" && userInput != "5") {
            userInput = prompt("Welcome to monopoly. How many players will play? (2-5)")
        }
        let no_of_players = parseInt(userInput);
        let allPlayers = [];
        var whoIsPlaying = 0;
        for (let i = 0; i < no_of_players; i++) {
            let playerName = prompt("Enter the name of player " + (i + 1) + ": ");
            playerName = playerName.trim();
            while (playerName === "" || nameExists(playerName)) {
                if (playerName === "") {
                   playerName = prompt("Empty Username Please type username for Monopoly " + (i + 1));
                   playerName = playerName.trim();
                } else {
                    playerName = prompt("Player " + (i + 1) + " Username already exists. Please choose a different username.");
                    playerName = playerName.trim();
                }
            }
            console.log("user has typed " + playerName);
            let newPlayer = {
                name: `${playerName}`,
            };
            allPlayers.push(newPlayer);
        }
        console.log(allPlayers);
        function nameExists(name) {
            return allPlayers.some(player => player.name === name);
        }
        var curerentToken = "";
        function selectToken(playerName, token) {
            console.log(playerName + " has selected " + token);
            const player = allPlayers.find(p => p.name === playerName);
            player.token = token;
            document.getElementById('confirmation').style.display='block';
            curerentToken = token;
        }
        function showUserInfo() {
            document.getElementById("ActiveMessage").innerHTML = "Who is playing: " + allPlayers[whoIsPlaying].name + "<br>" + actionMessages[0]; ;
            for (let index = 0; index < allPlayers.length; index++) {
                const player = allPlayers[index];
            }
        }

        function putalltokens() {
            for (let index = 0; index < allPlayers.length; index++) {
                const player = allPlayers[index];
                if (player.token == "car") {
                    var img = document.createElement("img");
                    img.src = "monopoly_car_t.png";
                    img.style.width = "50px";
                    img.style.height = "50px";
                    img.style.position = "absolute";
                    
                    var btm = 0;
                    if (index == 0 || index == 1) {
                        btm = 50;
                        
                    } else if (index == 2 || index == 3) {
                        btm = 0;
                    } else if (index == 4) {
                        btm = 25;
                    }
                    img.style.bottom = btm + "px";

                    var right = 0;
                    if (index==0 || index==2) {
                        right = 498
                    } else if (index==1 || index==3) {
                        right = 448
                    } else if (index==4) {
                        right = 473
                    }

                    img.style.right = right + "px";
                    document.body.appendChild(img);
                    console.log("catttt");
                    
                } else if (player.token == "cat") {
                    var img = document.createElement("img");
                    img.src = "monopoly_cat_t.png";
                    img.style.width = "50px";
                    img.style.height = "50px";
                    img.style.position = "absolute";
                    var btm = 0;
                    if (index == 0 || index == 1) {
                        btm = 50;
                        
                    } else if (index == 2 || index == 3) {
                        btm = 0;
                    } else if (index == 4) {
                        btm = 25;
                    }
                    img.style.bottom = btm + "px";

                    var right = 0;
                    if (index==0 || index==2) {
                        right = 498
                    } else if (index==1 || index==3) {
                        right = 448
                    } else if (index==4) {
                        right = 473
                    }

                    img.style.right = right + "px";    
                    document.body.appendChild(img);
                } else if (player.token == "hat") {
                    var img = document.createElement("img");
                    img.src = "monopoly_hat_t.png";
                    img.style.width = "50px";
                    img.style.height = "50px";
                    img.style.position = "absolute";
                    var btm = 0;
                    if (index == 0 || index == 1) {
                        btm = 50;
                        
                    } else if (index == 2 || index == 3) {
                        btm = 0;
                    } else if (index == 4) {
                        btm = 25;
                    }
                    img.style.bottom = btm + "px";

                    var right = 0;
                    if (index==0 || index==2) {
                        right = 498
                    } else if (index==1 || index==3) {
                        right = 448
                    } else if (index==4) {
                        right = 473
                    }

                    img.style.right = right + "px";
                    document.body.appendChild(img);
                } else if (player.token == "horse") {
                    var img = document.createElement("img");
                    img.src = "monopoly_horse_t.png";
                    img.style.width = "50px";
                    img.style.height = "50px";
                    img.style.position = "absolute";
                    var btm = 0;
                    if (index == 0 || index == 1) {
                        btm = 50;
                        
                    } else if (index == 2 || index == 3) {
                        btm = 0;
                    } else if (index == 4) {
                        btm = 25;
                    }
                    img.style.bottom = btm + "px";
                    
                    var right = 0;
                    if (index==0 || index==2) {
                        right = 498
                    } else if (index==1 || index==3) {
                        right = 448
                    } else if (index==4) {
                        right = 473
                    }

                    img.style.right = right + "px";
                    document.body.appendChild(img);
                } else if (player.token == "siren") {
                    var img = document.createElement("img");
                    img.src = "monopoly_siren_t.png";
                    img.style.width = "50px";
                    img.style.height = "50px";
                    img.style.position = "absolute";
                    var btm = 0;
                    if (index == 0 || index == 1) {
                        btm = 50;
                        
                    } else if (index == 2 || index == 3) {
                        btm = 0;
                    } else if (index == 4) {
                        btm = 25;
                    }
                    img.style.bottom = btm + "px";
                    
                    var right = 0;
                    if (index==0 || index==2) {
                        right = 498
                    } else if (index==1 || index==3) {
                        right = 448
                    } else if (index==4) {
                        right = 473
                    }

                    img.style.right = right + "px";
                    document.body.appendChild(img);
                    
                };
                
            }
        }
        function YesorNo(userChoice) {
            if (userChoice === "yes") {

                availableTokens = availableTokens.filter(item => item !== curerentToken);

                console.log(availableTokens);
                showRemainingTokens();

                console.log("all players", allPlayers);
                document.getElementById("confirmation").style.display = 'none';
                whoIsChoosing++;

                if (whoIsChoosing > no_of_players) {
                    console.log("all players have chosen their tokens");
                    document.getElementById("CharacterSelection").style.display = 'none';
                    document.getElementById("board").style.display = 'block';
                    document.body.style.backgroundImage = "url('Monopoly_Board.jpg')";
                    console.log("game starts now", allPlayers);
                    putalltokens();
                    showUserInfo();
                    return;
                } else {
                    document.getElementById("activePlayer").innerHTML = allPlayers[whoIsChoosing - 1].name;

                }
                return true;
            } else if (userChoice === "no") {
                console.log("no");
                document.getElementById("confirmation").style.display = 'none';
                return false;
            }
            
        }
        function RollDice(params) {
            setInterval(function() {
                var die1 = Math.floor(Math.random() * 6) + 1;
                var die2 = Math.floor(Math.random() * 6) + 1;
                document.getElementById("Dice1").src = "Dice" + die1 + ".png";
                document.getElementById("Dice2").src = "Dice" + die2 + ".png";
            }, 200);
            document.getElementById("Roll").innerHTML = "Stop";
        }
        </script>
</head>
<body>
    <div id="board">
        <div id="ActiveMessage"></div>
        <div id="AllUserInfo"></div>
        <img src="DiceEmpty.png" id="Dice1">
        <img src="DiceEmpty.png" id="Dice2">
        <div id="Roll" onclick="RollDice()">Roll</div>
        <div id="box0">Go</div>
        <div id="box1">Meditera
            nean Ave</div>
        <div id="box2">Communit
            y Chest 1</div>
        <div id="box3">Baltic Ave</div>
        <div id="box4">Income Tax</div>
        <div id="box5">Reading Railroad</div>
        <div id="box6">Oriental Ave</div>
        <div id="box7">Chance 1</div>
        <div id="box8">Vermont Ave</div>
        <div id="box9">Connectic
            sut Ave</div>
        <div id="box10">Jail</div>
        <div id="box11">St. Charles Place</div>
        <div id="box12">Electric Company</div>
        <div id="box13">States Ave</div>
        <div id="box14">Virginia Ave</div>
        <div id="box15">Pennsylvania Railroad</div>
        <div id="box16">St.James Place</div>
        <div id="box17">Community Chest 2</div>
        <div id="box18">Tennessee Ave</div>
        <div id="box19">New York Ave</div>
        <div id="box20">Free Parking</div>
        <div id="box21">Kentucky Ave</div>
        <div id="box22">Chance 2</div>
        <div id="box23">Indiana Ave</div>
        <div id="box24">Illinois Ave</div>
        <div id="box25">B & O Railroad</div>
        <div id="box26">Atlantic Ave</div>
        <div id="box27">Ventnor Ave</div>
        <div id="box28">Water Works</div>
        <div id="box29">Marvin Gardens</div>
        <div id="box30">Go To Jail</div>
        <div id="box31">Pacific Ave</div>
        <div id="box32">North Carolina Ave</div>
        <div id="box33">Community Chest 3</div>
        <div id="box34">Pennsylvania Ave</div>
        <div id="box35">Short Line Railroad</div>
        <div id="box36">Chance 3</div>
        <div id="box37">Park Place</div>
        <div id="box38">Luxury Tax</div>
        <div id="box39">Boardwalk</div>
    </div>
    <div id="CharacterSelection">
        <h2><span id="activePlayer"></span> : Choose Your Character</h2>
        <img id="car" src="monopoly_car_t.png" onclick="selectToken(allPlayers[whoIsChoosing - 1].name, 'car'); ">
        <img id="cat" src="monopoly_cat_t.png" onclick="selectToken(allPlayers[whoIsChoosing - 1].name, 'cat'); ">
        <img id="hat" src="monopoly_hat_t.png" onclick="selectToken(allPlayers[whoIsChoosing - 1].name, 'hat'); ">
        <img id="horse" src="monopoly_horse_t.png" onclick="selectToken(allPlayers[whoIsChoosing - 1].name, 'horse'); ">
        <img id="siren" src="monopoly_siren_t.png" onclick="selectToken(allPlayers[whoIsChoosing - 1].name, 'siren'); ">
        <br>
        <div id="confirmation" style="display:none;">
            <span>Are you sure?</span>
            <br>
            <button onclick="YesorNo('yes')">Yes</button>
            <button onclick="YesorNo('no')">No</button>
        </div>
        

    </div>

    <script>
        document.getElementById("activePlayer").innerHTML = allPlayers[whoIsChoosing - 1].name;
        function showRemainingTokens() {
            document.getElementById("cat").style.display = "none";
            document.getElementById("car").style.display = "none";
            document.getElementById("hat").style.display = "none";
            document.getElementById("horse").style.display = "none";
            document.getElementById("siren").style.display = "none";
            
            for (let index = 0; index < availableTokens.length; index++) {
                const element = availableTokens[index];
                if (element == "cat") {
                    document.getElementById("cat").style.display = "inline-block";
                } else if (element == "car") {
                    document.getElementById("car").style.display = "inline-block";
                } else if (element == "hat") {
                    document.getElementById("hat").style.display = "inline-block";
                } else if (element == "horse") {
                    document.getElementById("horse").style.display = "inline-block";
                } else if (element == "siren") {
                    document.getElementById("siren").style.display = "inline-block";
                }
            }
        }
        showRemainingTokens();
    </script>

</body>
</html>